<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Mar√≠a Alexandra & Daniel | Boda en la Playa</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- =========================
       FUENTES (TIPOGRAF√çA)
       - Montserrat: texto general
       - Great Vibes: manuscrita (t√≠tulo tipo "nuestra boda")
       ========================= -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    /* =========================
       COLORES Y BASE GENERAL
       ========================= */
    :root{
      --fondo: #fffaf5;
      --texto: #5a4a42;
      --dorado: #c49b6c;
      --menta: #8fb9a8;
      --linea: rgba(90,74,66,.12);
      --card: #ffffff;
      --btn: #9aa08f; /* similar al ejemplo */
    }

    body{
      margin: 0;
      font-family: 'Montserrat', Arial, sans-serif;
      background: var(--fondo);
      color: var(--texto);
      text-align: center;
    }

    .card{
      max-width: 980px;
      margin: 0 auto;
      padding: 0 18px;
    }

    .divider{
      height: 1px;
      background: var(--linea);
      max-width: 980px;
      margin: 0 auto;
    }

    section{
      padding: 44px 0;
    }

    /* =========================
       PORTADA
       ========================= */
    .hero{
      padding-top: 26px;
      padding-bottom: 18px;
    }

    .hero img{
      width: 100%;
      max-width: 980px;
      border-radius: 18px;
      display: block;
      margin: 0 auto;
      box-shadow: 0 6px 26px rgba(0,0,0,.08);
    }

    .tiny-title{
      font-size: 14px;
      letter-spacing: 3px;
      font-weight: 600;
      text-transform: uppercase;
      opacity: 0.8;
      margin: 22px 0 6px;
    }

    .script-title{
      font-family: 'Great Vibes', cursive;
      font-size: 56px;
      font-weight: 400;
      color: var(--texto);
      margin: 0 0 8px;
      line-height: 1.0;
    }

    /* =========================
       MENSAJE INICIAL (m√°s peque√±o)
       ========================= */
    .intro{
      font-style: italic;
      line-height: 1.7;
      max-width: 860px;
      margin: 0 auto;
    }

    .intro p{
      margin: 16px 0;
      font-size: 16px; /* m√°s peque√±o */
      opacity: .95;
    }

    /* =========================
       NOMBRES / FECHA / LUGAR
       ========================= */
    h1{
      color: var(--dorado);
      font-size: 34px;
      margin: 10px 0 12px;
      font-weight: 700;
    }

    h2{
      color: var(--menta);
      font-size: 26px;
      margin: 12px 0;
      font-weight: 700;
    }

    .subtle{
      font-size: 18px;
      margin: 10px 0;
      font-weight: 400;
    }

    /* =========================
       BOT√ìN (M√öSICA)
       ========================= */
    button.music-btn{
      background: var(--dorado);
      color: white;
      border: none;
      padding: 14px 22px;
      font-size: 16px;
      border-radius: 12px;
      cursor: pointer;
      font-family: 'Montserrat', Arial, sans-serif;
      font-weight: 600;
      box-shadow: 0 6px 18px rgba(0,0,0,.10);
    }
    button.music-btn:active{ transform: scale(0.99); }

    #countdown{
      font-size: 20px;
      margin-top: 12px;
      font-weight: 600;
    }

    /* =========================
       VESTIMENTA (TARJETAS + IM√ÅGENES)
       ========================= */
    .dress-grid{
      display: grid;
      grid-template-columns: 1fr;
      gap: 18px;
      max-width: 980px;
      margin: 18px auto 0;
      padding: 0 18px;
    }
    @media (min-width: 860px){
      .dress-grid{ grid-template-columns: 1fr 1fr; }
    }
    .dress-card{
      background: var(--card);
      border-radius: 18px;
      padding: 18px;
      box-shadow: 0 6px 22px rgba(0,0,0,.06);
      text-align: left;
    }
    .dress-card h3{
      margin: 6px 0 10px;
      font-size: 18px;
      color: var(--texto);
    }
    .dress-card p{
      margin: 0 0 12px;
      font-size: 15px;
      line-height: 1.5;
      opacity: .95;
    }
    .dress-card img{
      width: 100%;
      border-radius: 14px;
      display: block;
      margin-top: 10px;
    }

    /* =========================
       RSVP (FORMULARIO BONITO)
       ========================= */
    .rsvp-wrap{
      display: flex;
      justify-content: center;
      padding: 0 18px;
    }

    .rsvp-card{
      width: 100%;
      max-width: 560px;
      background: #ffffff;
      border-radius: 14px;
      box-shadow: 0 8px 26px rgba(0,0,0,.08);
      border: 1px solid rgba(0,0,0,.06);
      padding: 26px 18px 22px;
      text-align: center;
    }

    .rsvp-title{
      font-size: 24px;
      letter-spacing: 2px;
      font-weight: 700;
      text-transform: uppercase;
      color: #4b4b4b;
      margin: 6px 0 8px;
    }

    .rsvp-sub{
      color: #6d6d6d;
      font-size: 14px;
      line-height: 1.5;
      margin: 0 0 18px;
    }

    .rsvp-row{
      display: flex;
      gap: 18px;
      justify-content: center;
      margin: 12px 0 18px;
      flex-wrap: wrap;
    }

    .radio{
      display: flex;
      gap: 10px;
      align-items: center;
      font-size: 14px;
      color: #6b6b6b;
    }

    .field{
      width: 100%;
      max-width: 460px;
      margin: 10px auto;
      text-align: left;
    }

    .label{
      font-size: 12px;
      opacity: .8;
      margin: 0 0 6px;
      display: block;
      letter-spacing: .3px;
    }

    .input, .textarea, .select{
      width: 100%;
      border: 1px solid rgba(0,0,0,.18);
      border-radius: 8px;
      padding: 14px 12px;
      font-size: 14px;
      outline: none;
      font-family: 'Montserrat', Arial, sans-serif;
      background: #fff;
      box-sizing: border-box;
    }

    .textarea{
      min-height: 110px;
      resize: vertical;
    }

    .guest-list{
      max-width: 460px;
      margin: 6px auto 0;
      text-align: left;
    }

    .guest-item{
      margin: 10px 0;
    }

    .btn-send{
      width: 100%;
      max-width: 460px;
      border: none;
      border-radius: 10px;
      padding: 14px 16px;
      font-size: 14px;
      font-weight: 700;
      letter-spacing: 1px;
      text-transform: uppercase;
      background: var(--btn);
      color: #fff;
      cursor: pointer;
      margin-top: 12px;
      box-shadow: 0 8px 18px rgba(0,0,0,.12);
    }

    .btn-send:disabled{
      opacity: .7;
      cursor: not-allowed;
    }

    .note{
      font-size: 12px;
      opacity: .75;
      margin-top: 12px;
      padding: 0 10px;
      line-height: 1.4;
    }

    .rsvp-footer{
      margin-top: 22px;
      font-family: 'Great Vibes', cursive;
      font-size: 40px;
      color: #6a6a6a;
      line-height: 1.0;
    }

    .rsvp-footer small{
      display: block;
      font-family: 'Montserrat', Arial, sans-serif;
      font-size: 12px;
      letter-spacing: 1px;
      text-transform: uppercase;
      opacity: .8;
      margin-top: 6px;
    }
  </style>
</head>

<body>

  <!-- =========================
       1) PORTADA
       - Foto grande de ustedes
       - Archivo esperado: "foto-portada.jpg"
       ========================= -->
  <section class="hero card">
    <img src="foto-portada.jpg" alt="Foto de portada de Mar√≠a Alexandra y Daniel"
         onerror="this.style.display='none'">
    <div class="tiny-title">EST√ÅS INVITADO A</div>
    <div class="script-title">nuestra boda</div>
    <p class="subtle" style="margin-top: 6px;">
      Nos encantar√≠a que seas parte de este momento tan especial para nosotros.
    </p>
  </section>

  <div class="divider"></div>

  <!-- =========================
       2) TEXTO INICIAL (m√°s peque√±o)
       ========================= -->
  <section class="card">
    <div class="intro">
      <p>
        Eres todo lo que tengo,<br>
        mi sonrisa, mi ilusi√≥n.<br>
        Que lo sepa el mundo entero:<br>
        eres t√∫, mi gran pasi√≥n.
      </p>

      <p>
        Te has robado mi energ√≠a,<br>
        mi tristeza y mi alegr√≠a.<br>
        Eres due√±a de mi amor.
      </p>

      <p>
        Teniendo como testigo y gu√≠a de nuestra historia a <strong>Dios</strong>,<br>
        sin temor a equivocarnos y con la firme convicci√≥n<br>
        de que el final de esta historia solo lo decidir√° √âl<br>
        cuando apague alguno de nuestros corazones,<br>
        <strong>hemos decidido unir nuestras vidas en matrimonio.</strong>
      </p>
    </div>
  </section>

  <div class="divider"></div>

  <!-- =========================
       3) NOMBRES + FECHA + LUGAR
       ========================= -->
  <section class="card">
    <p class="subtle">Nos casamos</p>
    <h1>Mar√≠a Alexandra Gil &amp; Daniel √Ålvarez</h1>
    <h2>Viernes 13 de noviembre de 2026</h2>
    <p class="subtle">Cove√±as, Sucre</p>
  </section>

  <div class="divider"></div>

  <!-- =========================
       4) CUENTA REGRESIVA
       ========================= -->
  <section class="card">
    <h2>‚è≥ Cuenta regresiva</h2>
    <div id="countdown">Cargando...</div>
  </section>

  <div class="divider"></div>

  <!-- =========================
       5) M√öSICA
       - Archivo esperado: "musica.mp3"
       ========================= -->
  <section class="card">
    <h2>üéµ M√∫sica</h2>
    <p class="subtle">Toca el bot√≥n para activar la m√∫sica</p>
    <button class="music-btn" onclick="document.getElementById('music').play()">‚ñ∂Ô∏è Activar m√∫sica</button>

    <audio id="music" loop>
      <source src="musica.mp3" type="audio/mpeg">
      Tu navegador no soporta audio.
    </audio>
  </section>

  <div class="divider"></div>

  <!-- =========================
       6) VESTIMENTA
       - Archivos esperados:
         "vestimenta-hombres.jpg"
         "vestimenta-mujeres.jpg"
       ========================= -->
  <section class="card">
    <h2>üëó Vestimenta</h2>
    <p class="subtle">Estilo playa ‚Äî tonos pasteles, arena, beige y champagne</p>

    <div class="dress-grid">
      <div class="dress-card">
        <h3>üëî Hombres (referencia)</h3>
        <p>
          Camisa blanca (ideal lino/algod√≥n), manga larga o doblada.<br>
          Pantal√≥n beige/arena/khaki.<br>
          Calzado opcional: mocas√≠n claro o sandalia elegante (seg√∫n la arena).
        </p>
        <img src="vestimenta-hombres.jpg" alt="Referencia de vestimenta para hombres">
      </div>

      <div class="dress-card">
        <h3>üëó Mujeres (referencia)</h3>
        <p>
          Vestido largo estilo playa, ideal en tonos champagne / dorado suave / beige.<br>
          Tela sugerida: sat√≠n, seda o telas fluidas.<br>
          Calzado: tac√≥n bajo, sandalia elegante o cu√±a.
        </p>
        <img src="vestimenta-mujeres.jpg" alt="Referencia de vestimenta para mujeres">
      </div>
    </div>
  </section>

  <div class="divider"></div>

  <!-- =========================
       7) RSVP (GRUPO FAMILIAR HASTA 6)
       - El responsable llena su nombre
       - Elige cu√°ntas personas incluye
       - Se muestran campos para nombres de cada invitado
       ========================= -->
  <section class="card" style="padding-bottom: 80px;">
    <div class="rsvp-wrap">
      <div class="rsvp-card">

        <div class="rsvp-title">CONFIRMAR ASISTENCIA</div>
        <div class="rsvp-sub">
          Por favor, confirma tu asistencia<br>
          ¬°Esperamos que est√©s all√≠!
        </div>

        <!-- Selecci√≥n de asistencia -->
        <div class="rsvp-row">
          <label class="radio">
            <input type="radio" name="asistencia" value="S√≠, all√≠ estar√©" checked>
            <span>S√≠, all√≠ estar√©!</span>
          </label>

          <label class="radio">
            <input type="radio" name="asistencia" value="No podr√© asistir">
            <span>No podr√© asistir</span>
          </label>
        </div>

        <!-- Responsable -->
        <div class="field">
          <label class="label">Nombre del responsable (quien confirma)</label>
          <input id="nombre_responsable" class="input" type="text" placeholder="Nombre y apellido">
        </div>

        <!-- Cantidad de personas -->
        <div class="field">
          <label class="label">¬øCu√°ntas personas incluye esta invitaci√≥n?</label>
          <select id="cantidad" class="select" onchange="actualizarInvitados()">
            <option value="1" selected>1 persona</option>
            <option value="2">2 personas</option>
            <option value="3">3 personas</option>
            <option value="4">4 personas</option>
            <option value="5">5 personas</option>
            <option value="6">6 personas</option>
          </select>
        </div>

        <!-- Lista din√°mica de invitados (aparece seg√∫n cantidad) -->
        <div class="guest-list" id="guestList">
          <!-- Aqu√≠ se crean los campos autom√°ticamente -->
        </div>

        <!-- Alergias -->
        <div class="field">
          <label class="label">Intolerancias o alergias alimentarias</label>
          <input id="alergias" class="input" type="text" placeholder="Ej: lactosa, frutos secos, ninguna...">
        </div>

        <!-- Canci√≥n -->
        <div class="field">
          <label class="label">¬øQu√© canci√≥n no puede faltar?</label>
          <input id="cancion" class="input" type="text" placeholder="Escribe aqu√≠ tu canci√≥n">
        </div>

        <!-- Mensaje -->
        <div class="field">
          <label class="label">Mensaje para los novios</label>
          <textarea id="mensaje" class="textarea" placeholder="Escribe tu mensaje"></textarea>
        </div>

        <!-- Bot√≥n de enviar -->
        <button class="btn-send" onclick="enviarRSVP()">ENVIAR RESPUESTA</button>

        <div class="note">
          *Tu respuesta quedar√° guardada autom√°ticamente en Google Sheets.
        </div>

        <div class="rsvp-footer">
          Te esperamos
          <small>Alexa y Daniel</small>
        </div>

      </div>
    </div>
  </section>

  <!-- =========================
       8) SCRIPTS
       - Cuenta regresiva
       - Formulario din√°mico (1 a 6 invitados)
       - Env√≠o a Google Sheets (Apps Script)
       ========================= -->
  <script>
    /* ====== CUENTA REGRESIVA ====== */
    const eventDate = new Date("November 13, 2026 16:00:00").getTime();

    function updateCountdown() {
      const now = new Date().getTime();
      const distance = eventDate - now;

      if (distance <= 0) {
        document.getElementById("countdown").innerHTML = "¬°Hoy es el gran d√≠a! üíç";
        return;
      }

      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));

      document.getElementById("countdown").innerHTML =
        `${days} d√≠as, ${hours} horas y ${minutes} minutos para nuestro gran d√≠a üíç`;
    }

    updateCountdown();
    setInterval(updateCountdown, 1000);

    /* ====== URL REAL DEL APPS SCRIPT (YA PEGADA) ====== */
    const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyfFfm4Xi_17QaxKPAN8RLziPAw1NiYuByWMy6ttifwUANZecb_v5DNStsm5pCtvhzk7w/exec";

    /* =========================
       Crear campos de invitados seg√∫n cantidad (1 a 6)
       ========================= */
    function actualizarInvitados() {
      const cantidad = parseInt(document.getElementById("cantidad").value, 10);
      const contenedor = document.getElementById("guestList");

      // Limpiar los campos actuales
      contenedor.innerHTML = "";

      // Crear inputs: Invitado 1..cantidad
      for (let i = 1; i <= cantidad; i++) {
        const div = document.createElement("div");
        div.className = "guest-item";

        const label = document.createElement("label");
        label.className = "label";
        label.textContent = `Nombre del invitado ${i}`;

        const input = document.createElement("input");
        input.className = "input";
        input.type = "text";
        input.id = `invitado_${i}`;
        input.placeholder = `Invitado ${i} - Nombre y apellido`;

        div.appendChild(label);
        div.appendChild(input);
        contenedor.appendChild(div);
      }
    }

    // Ejecutar una vez al cargar para que aparezca invitado_1
    actualizarInvitados();

    /* =========================
       Enviar RSVP a Google Sheets
       - Guarda: asistencia, responsable, cantidad, nombres invitados, alergias, canci√≥n, mensaje
       ========================= */
    async function enviarRSVP() {
      const asistencia = document.querySelector('input[name="asistencia"]:checked')?.value || "";
      const responsable = document.getElementById("nombre_responsable").value.trim();
      const cantidad = parseInt(document.getElementById("cantidad").value, 10);

      // Validaci√≥n m√≠nima
      if (!responsable) {
        alert("Por favor escribe el nombre del responsable.");
        return;
      }

      // Obtener nombres de invitados (hasta 6)
      const invitados = [];
      for (let i = 1; i <= cantidad; i++) {
        const val = document.getElementById(`invitado_${i}`)?.value.trim() || "";
        invitados.push(val);
      }

      // Si el invitado 1 est√° vac√≠o, pedir al menos uno (sentido com√∫n)
      if (!invitados[0]) {
        alert("Por favor escribe al menos el nombre del invitado 1.");
        return;
      }

      const alergias = document.getElementById("alergias").value.trim();
      const cancion = document.getElementById("cancion").value.trim();
      const mensaje = document.getElementById("mensaje").value.trim();

      // Preparar datos para enviar
      const payload = {
        asistencia,
        responsable,
        cantidad,
        invitados, // arreglo con nombres
        alergias: alergias || "N/A",
        cancion: cancion || "N/A",
        mensaje: mensaje || "N/A",
        info: navigator.userAgent
      };

      // Cambiar texto del bot√≥n mientras env√≠a
      const btn = document.querySelector(".btn-send");
      const originalText = btn.textContent;
      btn.textContent = "ENVIANDO...";
      btn.disabled = true;

      try {
        const res = await fetch(GOOGLE_SCRIPT_URL, {
          method: "POST",
          headers: { "Content-Type": "text/plain;charset=utf-8" },
          body: JSON.stringify(payload)
        });

        const data = await res.json();

        if (data.ok) {
          alert("‚úÖ ¬°Gracias! Tu confirmaci√≥n fue enviada y guardada.");

          // Limpiar campos
          document.getElementById("nombre_responsable").value = "";
          document.getElementById("cantidad").value = "1";
          actualizarInvitados();
          document.getElementById("alergias").value = "";
          document.getElementById("cancion").value = "";
          document.getElementById("mensaje").value = "";
        } else {
          alert("‚ùå Ocurri√≥ un error guardando la respuesta. Intenta de nuevo.");
          console.log("Error del script:", data);
        }

      } catch (err) {
        alert("‚ùå No se pudo enviar. Revisa tu conexi√≥n e intenta nuevamente.");
        console.log("Error:", err);
      } finally {
        btn.textContent = originalText;
        btn.disabled = false;
      }
    }
  </script>

</body>
</html>
